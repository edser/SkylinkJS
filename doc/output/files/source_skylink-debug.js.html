<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Temasys Web SDK Documentation (0.6.19)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="name" content="skylinkjs">
  <meta name="version" content="0.6.19">
  <!-- Favicon -->
  <link href="../assets/img/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono" rel="stylesheet">
  <link href="../assets/vendor/font-awesome.min.css" rel="stylesheet" type="text/css">
  <!-- Styles -->
  <link href="../assets/vendor/prettify.min.css" rel="stylesheet" type="text/css">
  <link href="../assets/css/main.css" rel="stylesheet" type="text/css">
  <script src="../assets/vendor/jquery.min.js" type="text/javascript"></script>
  <script src="../assets/vendor/prettify.min.js" type="text/javascript"></script>
  <script src="../assets/js/main.js" type="text/javascript"></script>
</head>
<body>
  <!-- Navigation Header -->
  <navbar class="top">
    <a class="main" href="/">
      <img src="../assets/img/favicon.ico">
      <strong>Temasys</strong> Web SDK
    </a>
    <ul class="menu">
      <li><a href="https://github.com/Temasys/SkylinkJS" target="_blank">SkylinkJS Github</a></li>
      <li><a href="https://console.temasys.io/" target="_blank">Developer Console</a></li>
    </ul>
  </navbar>

  <!-- Body -->
  <section class="container">
    <div class="container-wrapper">
      <!-- Side Navigation -->
      <navbar class="side">
        <div id="side-menu" class="navbar-wrapper">
          <ul class="menu">
            <div class="section">
              <span class="header">Getting Started</span>    
              <li>
              <a href="#">1. Overview <i class="fa fa-caret-down"></i></a>
              <ul>
                  <li><a href="#">a. Architecture</a></li>
                  <li><a href="#">b. Authentication Methods</a></li>
                  <li><a href="#">c. Persistent Rooms</a></li>
                  <li><a href="#">d. Auto-Introduce & Privileged</a></li>
              </ul>
              </li>
              <li>
              <a href="#">2. Integrating to Your Site <i class="fa fa-caret-down"></i></a>
              <ul>
                  <li><a href="#">a. Referencing the SDK</a></li>
                  <li><a href="#">b. Code Samples</a></li>
                  <li><a href="#">c. Integrating your extensions & WebRTC plugin</a></li>
              </ul>
              </li>
              <li><a href="#" class="nodropdown">3. Demos</a></li>
            </div>
            <div class="section">
              <span class="header">API Documentation</span>
              <li>
                <a href="#">Temasys <small>module</small><i class="fa fa-caret-down"></i></a>
                <ul>
                </ul>
              </li>
                  ([&quot;Room&quot;,&quot;test&quot;])
                  <li>
                    <a href="classes/Room.html" class="nodropdown">
                      Room <small>class</small>
                    </a>
                  </li>
                  ([&quot;Skylink&quot;,&quot;test&quot;])
                  <li>
                    <a href="classes/Skylink.html" class="nodropdown">
                      Skylink <small>class</small>
                    </a>
                  </li>
                  ([&quot;Socket&quot;,&quot;test&quot;])
                  <li>
                    <a href="classes/Socket.html" class="nodropdown">
                      Socket <small>class</small>
                    </a>
                  </li>
                  ([&quot;Temasys.Peer&quot;,&quot;test&quot;])
                  <li>
                    <a href="classes/Temasys.Peer.html" class="nodropdown">
                      Temasys.Peer <small>class</small>
                    </a>
                  </li>
                  ([&quot;Temasys.Room&quot;,&quot;test&quot;])
                  <li>
                    <a href="classes/Temasys.Room.html" class="nodropdown">
                      Temasys.Room <small>class</small>
                    </a>
                  </li>
                  ([&quot;Temasys.Socket&quot;,&quot;test&quot;])
                  <li>
                    <a href="classes/Temasys.Socket.html" class="nodropdown">
                      Temasys.Socket <small>class</small>
                    </a>
                  </li>
                  ([&quot;Temasys.Utils&quot;,&quot;test&quot;])
                  <li>
                    <a href="classes/Temasys.Utils.html" class="nodropdown">
                      Temasys.Utils <small>class</small>
                    </a>
                  </li>
                  ([&quot;Utils&quot;,&quot;test&quot;])
                  <li>
                    <a href="classes/Utils.html" class="nodropdown">
                      Utils <small>class</small>
                    </a>
                  </li>
            </div>
          </ul>
        </div>
      </navbar>      <!-- Content -->
      <h1 class="file-heading">File: source/skylink-debug.js</h1>
      
      <div class="file">
          <pre class="code prettyprint linenums">
      /**
       * The list of the SDK &lt;code&gt;console&lt;/code&gt; API log levels.
       * @attribute LOG_LEVEL
       * @param {Number} DEBUG &lt;small&gt;Value &lt;code&gt;4&lt;/code&gt;&lt;/small&gt;
       *   The value of the log level that displays &lt;code&gt;console&lt;/code&gt; &lt;code&gt;debug&lt;/code&gt;,
       *   &lt;code&gt;log&lt;/code&gt;, &lt;code&gt;info&lt;/code&gt;, &lt;code&gt;warn&lt;/code&gt; and &lt;code&gt;error&lt;/code&gt; logs.
       * @param {Number} LOG   &lt;small&gt;Value &lt;code&gt;3&lt;/code&gt;&lt;/small&gt;
       *   The value of the log level that displays only &lt;code&gt;console&lt;/code&gt; &lt;code&gt;log&lt;/code&gt;,
       *   &lt;code&gt;info&lt;/code&gt;, &lt;code&gt;warn&lt;/code&gt; and &lt;code&gt;error&lt;/code&gt; logs.
       * @param {Number} INFO  &lt;small&gt;Value &lt;code&gt;2&lt;/code&gt;&lt;/small&gt;
       *   The value of the log level that displays only &lt;code&gt;console&lt;/code&gt; &lt;code&gt;info&lt;/code&gt;,
       *   &lt;code&gt;warn&lt;/code&gt; and &lt;code&gt;error&lt;/code&gt; logs.
       * @param {Number} WARN  &lt;small&gt;Value &lt;code&gt;1&lt;/code&gt;&lt;/small&gt;
       *   The value of the log level that displays only &lt;code&gt;console&lt;/code&gt; &lt;code&gt;warn&lt;/code&gt;
       *   and &lt;code&gt;error&lt;/code&gt; logs.
       * @param {Number} ERROR &lt;small&gt;Value &lt;code&gt;0&lt;/code&gt;&lt;/small&gt;
       *   The value of the log level that displays only &lt;code&gt;console&lt;/code&gt; &lt;code&gt;error&lt;/code&gt; logs.
       * @param {Number} NONE &lt;small&gt;Value &lt;code&gt;-1&lt;/code&gt;&lt;/small&gt;
       *   The value of the log level that displays no logs.
       * @type JSON
       * @readOnly
       * @for Skylink
       * @since 0.5.4
       */
      Skylink.prototype.LOG_LEVEL = {
        DEBUG: 4,
        LOG: 3,
        INFO: 2,
        WARN: 1,
        ERROR: 0,
        NONE: -1
      };
      
      /**
       * Stores the log message starting header string.
       * E.g. &quot;&lt;header&gt; - &lt;the log message&gt;&quot;.
       * @attribute _LOG_KEY
       * @type String
       * @private
       * @scoped true
       * @for Skylink
       * @since 0.5.4
       */
      var _LOG_KEY = &#x27;SkylinkJS&#x27;;
      
      /**
       * Stores the list of available SDK log levels.
       * @attribute _LOG_LEVELS
       * @type Array
       * @private
       * @scoped true
       * @for Skylink
       * @since 0.5.5
       */
      var _LOG_LEVELS = [&#x27;error&#x27;, &#x27;warn&#x27;, &#x27;info&#x27;, &#x27;log&#x27;, &#x27;debug&#x27;];
      
      /**
       * Stores the current SDK log level.
       * Default is ERROR (&lt;code&gt;0&lt;/code&gt;).
       * @attribute _logLevel
       * @type String
       * @default 0
       * @private
       * @scoped true
       * @for Skylink
       * @since 0.5.4
       */
      var _logLevel = 0;
      
      /**
       * Stores the flag if debugging mode is enabled.
       * This manipulates the SkylinkLogs interface.
       * @attribute _enableDebugMode
       * @type Boolean
       * @default false
       * @private
       * @scoped true
       * @for Skylink
       * @since 0.5.4
       */
      var _enableDebugMode = false;
      
      /**
       * Stores the flag if logs should be stored in SkylinkLogs interface.
       * @attribute _enableDebugStack
       * @type Boolean
       * @default false
       * @private
       * @scoped true
       * @for Skylink
       * @since 0.5.5
       */
      var _enableDebugStack = false;
      
      /**
       * Stores the flag if logs should trace if available.
       * This uses the &lt;code&gt;console.trace&lt;/code&gt; API.
       * @attribute _enableDebugTrace
       * @type Boolean
       * @default false
       * @private
       * @scoped true
       * @for Skylink
       * @since 0.5.5
       */
      var _enableDebugTrace = false;
      
      /**
       * Stores the logs used for SkylinkLogs object.
       * @attribute _storedLogs
       * @type Array
       * @private
       * @scoped true
       * @for Skylink
       * @since 0.5.5
       */
      var _storedLogs = [];
      
      /**
       * Function that gets the stored logs.
       * @method _getStoredLogsFn
       * @private
       * @scoped true
       * @for Skylink
       * @since 0.5.5
       */
      var _getStoredLogsFn = function (logLevel) {
        if (typeof logLevel === &#x27;undefined&#x27;) {
          return _storedLogs;
        }
        var returnLogs = [];
        for (var i = 0; i &lt; _storedLogs.length; i++) {
          if (_storedLogs[i][1] === _LOG_LEVELS[logLevel]) {
            returnLogs.push(_storedLogs[i]);
          }
        }
        return returnLogs;
      };
      
      /**
       * Function that clears the stored logs.
       * @method _clearAllStoredLogsFn
       * @private
       * @scoped true
       * @for Skylink
       * @since 0.5.5
       */
      var _clearAllStoredLogsFn = function () {
        _storedLogs = [];
      };
      
      /**
       * Function that prints in the Web Console interface the stored logs.
       * @method _printAllStoredLogsFn
       * @private
       * @scoped true
       * @for Skylink
       * @since 0.5.5
       */
      var _printAllStoredLogsFn = function () {
        for (var i = 0; i &lt; _storedLogs.length; i++) {
          var timestamp = _storedLogs[i][0];
          var log = (console[_storedLogs[i][1]] !== &#x27;undefined&#x27;) ?
            _storedLogs[i][1] : &#x27;log&#x27;;
          var message = _storedLogs[i][2];
          var debugObject = _storedLogs[i][3];
      
          if (typeof debugObject !== &#x27;undefined&#x27;) {
            console[log](message, debugObject, timestamp);
          } else {
            console[log](message, timestamp);
          }
        }
      };
      
      /**
       * &lt;blockquote class=&quot;info&quot;&gt;
       *   To utilise and enable the &lt;code&gt;SkylinkLogs&lt;/code&gt; API functionalities, the
       *   &lt;a href=&quot;#method_setDebugMode&quot;&gt;&lt;code&gt;setDebugMode()&lt;/code&gt; method&lt;/a&gt;
       *   &lt;code&gt;options.storeLogs&lt;/code&gt; parameter has to be enabled.
       * &lt;/blockquote&gt;
       * The object interface to manage the SDK &lt;a href=&quot;https://developer.mozilla.org/en/docs/Web/API/console&quot;&gt;
       * Javascript Web Console&lt;/a&gt; logs.
       * @property SkylinkLogs
       * @type JSON
       * @global true
       * @for Skylink
       * @since 0.5.5
       */
      var SkylinkLogs = {
        /**
         * Function that gets the current stored SDK &lt;code&gt;console&lt;/code&gt; logs.
         * @property SkylinkLogs.getLogs
         * @param {Number} [logLevel] The specific log level of logs to return.
         * - When not provided or that the level does not exists, it will return all logs of all levels.
         *  [Rel: Skylink.LOG_LEVEL]
         * @return {Array} The array of stored logs.&lt;ul&gt;
         *   &lt;li&gt;&lt;code&gt;&lt;#index&gt;&lt;/code&gt;&lt;var&gt;&lt;b&gt;{&lt;/b&gt;Array&lt;b&gt;}&lt;/b&gt;&lt;/var&gt;&lt;p&gt;The stored log item.&lt;/p&gt;&lt;ul&gt;
         *   &lt;li&gt;&lt;code&gt;0&lt;/code&gt;&lt;var&gt;&lt;b&gt;{&lt;/b&gt;Date&lt;b&gt;}&lt;/b&gt;&lt;/var&gt;&lt;p&gt;The DateTime of when the log was stored.&lt;/p&gt;&lt;/li&gt;
         *   &lt;li&gt;&lt;code&gt;1&lt;/code&gt;&lt;var&gt;&lt;b&gt;{&lt;/b&gt;String&lt;b&gt;}&lt;/b&gt;&lt;/var&gt;&lt;p&gt;The log level. [Rel: Skylink.LOG_LEVEL]&lt;/p&gt;&lt;/li&gt;
         *   &lt;li&gt;&lt;code&gt;2&lt;/code&gt;&lt;var&gt;&lt;b&gt;{&lt;/b&gt;String&lt;b&gt;}&lt;/b&gt;&lt;/var&gt;&lt;p&gt;The log message.&lt;/p&gt;&lt;/li&gt;
         *   &lt;li&gt;&lt;code&gt;3&lt;/code&gt;&lt;var&gt;&lt;b&gt;{&lt;/b&gt;Any&lt;b&gt;}&lt;/b&gt;&lt;/var&gt;&lt;span class=&quot;label&quot;&gt;Optional&lt;/span&gt;&lt;p&gt;The log message object.
         *   &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;
         * @example
         *  // Example 1: Get logs of specific level
         *  var debugLogs = SkylinkLogs.getLogs(skylinkDemo.LOG_LEVEL.DEBUG);
         *
         *  // Example 2: Get all the logs
         *  var allLogs = SkylinkLogs.getLogs();
         * @type Function
         * @global true
         * @triggerForPropHackNone true
         * @for Skylink
         * @since 0.5.5
         */
        getLogs: _getStoredLogsFn,
      
        /**
         * Function that clears all the current stored SDK &lt;code&gt;console&lt;/code&gt; logs.
         * @property SkylinkLogs.clearAllLogs
         * @type Function
         * @example
         *   // Example 1: Clear all the logs
         *   SkylinkLogs.clearAllLogs();
         * @global true
         * @triggerForPropHackNone true
         * @for Skylink
         * @since 0.5.5
         */
        clearAllLogs: _clearAllStoredLogsFn,
      
        /**
         * Function that prints all the current stored SDK &lt;code&gt;console&lt;/code&gt; logs into the
         * &lt;a href=&quot;https://developer.mozilla.org/en/docs/Web/API/console&quot;&gt;Javascript Web Console&lt;/a&gt;.
         * @property SkylinkLogs.printAllLogs
         * @type Function
         * @example
         *   // Example 1: Print all the logs
         *   SkylinkLogs.printAllLogs();
         * @global true
         * @triggerForPropHackNone true
         * @for Skylink
         * @since 0.5.5
         */
        printAllLogs: _printAllStoredLogsFn
      };
      
      /**
       * Function that handles the logs received and prints in the Web Console interface according to the log level set.
       * @method _logFn
       * @private
       * @required
       * @scoped true
       * @for Skylink
       * @since 0.5.5
       */
      var _logFn = function(logLevel, message, debugObject) {
        var outputLog = _LOG_KEY;
      
        if (typeof message === &#x27;object&#x27;) {
          outputLog += (message[0]) ? &#x27; [&#x27; + message[0] + &#x27;] -&#x27; : &#x27; -&#x27;;
          outputLog += (message[1]) ? &#x27; &lt;&lt;&#x27; + message[1] + &#x27;&gt;&gt;&#x27; : &#x27;&#x27;;
          if (message[2]) {
            outputLog += &#x27; &#x27;;
            if (typeof message[2] === &#x27;object&#x27;) {
              for (var i = 0; i &lt; message[2].length; i++) {
                outputLog += &#x27;(&#x27; + message[2][i] + &#x27;)&#x27;;
              }
            } else {
              outputLog += &#x27;(&#x27; + message[2] + &#x27;)&#x27;;
            }
          }
          outputLog += &#x27; &#x27; + message[3];
        } else {
          outputLog += &#x27; - &#x27; + message;
        }
      
        if (_enableDebugMode &amp;&amp; _enableDebugStack) {
          // store the logs
          var logItem = [(new Date()), _LOG_LEVELS[logLevel], outputLog];
      
          if (typeof debugObject !== &#x27;undefined&#x27;) {
            logItem.push(debugObject);
          }
          _storedLogs.push(logItem);
        }
      
        if (_logLevel &gt;= logLevel) {
          // Fallback to log if failure
          logLevel = (typeof console[_LOG_LEVELS[logLevel]] === &#x27;undefined&#x27;) ? 3 : logLevel;
      
          if (_enableDebugMode &amp;&amp; _enableDebugTrace) {
            var logConsole = (typeof console.trace === &#x27;undefined&#x27;) ? logLevel[3] : &#x27;trace&#x27;;
            if (typeof debugObject !== &#x27;undefined&#x27;) {
              console[_LOG_LEVELS[logLevel]](outputLog, debugObject);
              // output if supported
              if (typeof console.trace !== &#x27;undefined&#x27;) {
                console.trace(&#x27;&#x27;);
              }
            } else {
              console[_LOG_LEVELS[logLevel]](outputLog);
              // output if supported
              if (typeof console.trace !== &#x27;undefined&#x27;) {
                console.trace(&#x27;&#x27;);
              }
            }
          } else {
            if (typeof debugObject !== &#x27;undefined&#x27;) {
              console[_LOG_LEVELS[logLevel]](outputLog, debugObject);
            } else {
              console[_LOG_LEVELS[logLevel]](outputLog);
            }
          }
        }
      };
      
      /**
       * Stores the logging functions.
       * @attribute log
       * @param {Function} debug The function that handles the DEBUG level logs.
       * @param {Function} log The function that handles the LOG level logs.
       * @param {Function} info The function that handles the INFO level logs.
       * @param {Function} warn The function that handles the WARN level logs.
       * @param {Function} error The function that handles the ERROR level logs.
       * @type JSON
       * @private
       * @scoped true
       * @for Skylink
       * @since 0.5.4
       */
      var log = {
        debug: function (message, object) {
          _logFn(4, message, object);
        },
      
        log: function (message, object) {
          _logFn(3, message, object);
        },
      
        info: function (message, object) {
          _logFn(2, message, object);
        },
      
        warn: function (message, object) {
          _logFn(1, message, object);
        },
      
        error: function (message, object) {
          _logFn(0, message, object);
        }
      };
      
      /**
       * Function that configures the level of &lt;code&gt;console&lt;/code&gt; API logs to be printed in the
       * &lt;a href=&quot;https://developer.mozilla.org/en/docs/Web/API/console&quot;&gt;Javascript Web Console&lt;/a&gt;.
       * @method setLogLevel
       * @param {Number} [logLevel] The specific log level of logs to return.
       * - When not provided or that the level does not exists, it will not overwrite the current log level.
       *   &lt;small&gt;By default, the initial log level is &lt;code&gt;ERROR&lt;/code&gt;.&lt;/small&gt;
       *   [Rel: Skylink.LOG_LEVEL]
       * @example
       *   // Example 1: Print all of the console.debug, console.log, console.info, console.warn and console.error logs.
       *   skylinkDemo.setLogLevel(skylinkDemo.LOG_LEVEL.DEBUG);
       *
       *   // Example 2: Print only the console.log, console.info, console.warn and console.error logs.
       *   skylinkDemo.setLogLevel(skylinkDemo.LOG_LEVEL.LOG);
       *
       *   // Example 3: Print only the console.info, console.warn and console.error logs.
       *   skylinkDemo.setLogLevel(skylinkDemo.LOG_LEVEL.INFO);
       *
       *   // Example 4: Print only the console.warn and console.error logs.
       *   skylinkDemo.setLogLevel(skylinkDemo.LOG_LEVEL.WARN);
       *
       *   // Example 5: Print only the console.error logs. This is done by default.
       *   skylinkDemo.setLogLevel(skylinkDemo.LOG_LEVEL.ERROR);
       * @for Skylink
       * @since 0.5.5
       */
      Skylink.prototype.setLogLevel = function(logLevel) {
        if(logLevel === undefined) {
          logLevel = Skylink.LOG_LEVEL.WARN;
        }
        for (var level in this.LOG_LEVEL) {
          if (this.LOG_LEVEL[level] === logLevel) {
            _logLevel = logLevel;
            log.log([null, &#x27;Log&#x27;, level, &#x27;Log level exists. Level is set&#x27;]);
            return;
          }
        }
        log.error([null, &#x27;Log&#x27;, level, &#x27;Log level does not exist. Level is not set&#x27;]);
      };
      
      /**
       * Function that configures the debugging mode of the SDK.
       * @method setDebugMode
       * @param {Boolean|JSON} [options=false] The debugging options.
       * - When provided as a boolean, this sets both &lt;code&gt;options.trace&lt;/code&gt;
       *   and &lt;code&gt;options.storeLogs&lt;/code&gt; to its boolean value.
       * @param {Boolean} [options.trace=false] The flag if SDK &lt;code&gt;console&lt;/code&gt; logs
       *   should output as &lt;code&gt;console.trace()&lt;/code&gt; logs for tracing the &lt;code&gt;Function&lt;/code&gt; call stack.
       *   &lt;small&gt;Note that the &lt;code&gt;console.trace()&lt;/code&gt; output logs is determined by the log level set
       *   &lt;a href=&quot;#method_setLogLevel&quot;&gt;&lt;code&gt;setLogLevel()&lt;/code&gt; method&lt;/a&gt;.&lt;/small&gt;
       *   &lt;small&gt;If &lt;code&gt;console.trace()&lt;/code&gt; API is not supported, &lt;code&gt;setDebugMode()&lt;/code&gt;
       *   will fallback to use &lt;code&gt;console.log()&lt;/code&gt; API.&lt;/small&gt;
       * @param {Boolean} [options.storeLogs=false] The flag if SDK should store the &lt;code&gt;console&lt;/code&gt; logs.
       *   &lt;small&gt;This is required to be enabled for &lt;a href=&quot;#prop_SkylinkLogs&quot;&gt;&lt;code&gt;SkylinkLogs&lt;/code&gt; API&lt;/a&gt;.&lt;/small&gt;
       * @example
       *   // Example 1: Enable both options.storeLogs and options.trace
       *   skylinkDemo.setDebugMode(true);
       *
       *   // Example 2: Enable only options.storeLogs
       *   skylinkDemo.setDebugMode({ storeLogs: true });
       *
       *   // Example 3: Disable debugging mode
       *   skylinkDemo.setDebugMode();
       * @for Skylink
       * @since 0.5.2
       */
      Skylink.prototype.setDebugMode = function(isDebugMode) {
        if (typeof isDebugMode === &#x27;object&#x27;) {
          if (Object.keys(isDebugMode).length &gt; 0) {
            _enableDebugTrace = !!isDebugMode.trace;
            _enableDebugStack = !!isDebugMode.storeLogs;
          } else {
            _enableDebugMode = false;
            _enableDebugTrace = false;
            _enableDebugStack = false;
          }
        }
        if (isDebugMode === false) {
          _enableDebugMode = false;
          _enableDebugTrace = false;
          _enableDebugStack = false;
      
          return;
        }
        _enableDebugMode = true;
        _enableDebugTrace = true;
        _enableDebugStack = true;
      };
          </pre>
      </div>
    </div>
   </section>
</body>
</html>
